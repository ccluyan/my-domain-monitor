# Cloudflare Worker åŸŸåç›‘æ§é¢æ¿

è¿™æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨ Cloudflare Workers ä¸Šçš„è½»é‡çº§åŸŸåç›‘æ§å·¥å…·ã€‚æ— éœ€æœåŠ¡å™¨ï¼Œå…è´¹ç‰ˆå¥—é¤å³å¯ä½¿ç”¨ã€‚
æ”¯æŒ D1 æ•°æ®åº“å­˜å‚¨ã€Gist/WebDAV å¤‡ä»½ã€å®šæ—¶è‡ªåŠ¨æ£€æµ‹ã€‚

## é¢„è§ˆ
![Screenshot](https://via.placeholder.com/800x400?text=Domain+Monitor+Screenshot)

## éƒ¨ç½²æ­¥éª¤

### 1. å‡†å¤‡å·¥ä½œ
*   æ‹¥æœ‰ä¸€ä¸ª Cloudflare è´¦å·ã€‚
*   Fork æœ¬ä»“åº“åˆ°ä½ çš„ GitHubã€‚

### 2. åˆ›å»ºæ•°æ®åº“
1.  ç™»å½• Cloudflare æ§åˆ¶å°ï¼Œè¿›å…¥ **Workers & Pages** -> **D1 SQL Database**ã€‚
2.  ç‚¹å‡» **Create**ï¼Œåˆ›å»ºä¸€ä¸ªæ–°æ•°æ®åº“ï¼Œå‘½åä¸º `domain-db`ï¼ˆæˆ–è€…å…¶ä»–ä½ å–œæ¬¢çš„åå­—ï¼‰ã€‚
3.  åˆ›å»ºæˆåŠŸåï¼Œå¤åˆ¶ **Database ID**ï¼ˆä¸€ä¸²ç±»ä¼¼ `xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx` çš„å­—ç¬¦ï¼‰ã€‚
4.  ç‚¹å‡»æ•°æ®åº“åç§°è¿›å…¥è¯¦æƒ…ï¼Œé€‰æ‹© **Console** æ ‡ç­¾é¡µã€‚
5.  å°†é¡¹ç›®ä¸­çš„ `schema.sql` æ–‡ä»¶å†…å®¹å…¨é€‰å¤åˆ¶ï¼Œç²˜è´´åˆ° Console ä¸­å¹¶ç‚¹å‡» **Execute**ï¼Œå®Œæˆæ•°æ®è¡¨åˆå§‹åŒ–ã€‚

### 3. é…ç½®é¡¹ç›®
1.  åœ¨ä½ çš„ GitHub Fork é¡¹ç›®ä¸­ï¼Œæ‰“å¼€ `wrangler.toml` æ–‡ä»¶ã€‚
2.  æ‰¾åˆ° `database_id` å­—æ®µï¼Œå°†å…¶ä¿®æ”¹ä¸ºä½ åˆšæ‰å¤åˆ¶çš„ Database IDã€‚
3.  æäº¤æ›´æ”¹ (Commit)ã€‚

### 4. éƒ¨ç½² Worker
1.  å›åˆ° Cloudflare æ§åˆ¶å°ï¼Œ**Workers & Pages** -> **Create Application** -> **Connect to Git**ã€‚
2.  é€‰æ‹©ä½ åˆšæ‰ Fork çš„ä»“åº“ã€‚
3.  **æ„å»ºè®¾ç½®**ï¼š
    *   ä¸åšä¿®æ”¹ï¼Œä¿æŒé»˜è®¤å³å¯ã€‚
4.  ç‚¹å‡» **Save and Deploy**ã€‚

### 5. ç»‘å®šä¸ç¯å¢ƒå˜é‡
éƒ¨ç½²å®Œæˆåï¼Œè¿›å…¥è¯¥ Worker çš„è®¾ç½®é¡µé¢ï¼š

1.  **ç»‘å®šæ•°æ®åº“**ï¼š
    *   è¿›å…¥ **Settings (è®¾ç½®)** -> **Bindings (ç»‘å®š)**ã€‚
    *   æ£€æŸ¥ `D1 Database Bindings`ã€‚å¦‚æœè‡ªåŠ¨è¯†åˆ«äº† `DB` å˜é‡ä¸”è¿æ¥æ­£ç¡®ï¼Œåˆ™æ— éœ€æ“ä½œã€‚
    *   å¦‚æœæ²¡æœ‰ï¼Œè¯·ç‚¹å‡» Add -> å˜é‡åå¡« `DB` -> é€‰æ‹©ä½ çš„æ•°æ®åº“ã€‚

2.  **è®¾ç½®ç™»å½•å¯†ç **ï¼š
    *   è¿›å…¥ **Settings (è®¾ç½®)** -> **Variables and Secrets (å˜é‡å’Œæœºå¯†)**ã€‚
    *   ç‚¹å‡» **Add**ã€‚
    *   Variable name: `PASSWORD`
    *   Value: `ä½ çš„åå°ç™»å½•å¯†ç `
    *   ç‚¹å‡» **Encrypt and Add**ã€‚

### 6. å®Œæˆ
ç‚¹å‡» Worker æä¾›çš„ `*.workers.dev` åŸŸåï¼Œè¾“å…¥å¯†ç å³å¯å¼€å§‹ä½¿ç”¨ï¼

## åŠŸèƒ½
*   â• æ‰¹é‡æ·»åŠ åŸŸå
*   ğŸ”„ æ¯å¤©è‡ªåŠ¨æ£€æµ‹åœ¨çº¿çŠ¶æ€ (Cron Trigger)
*   ğŸ“… è‡ªåŠ¨è®¡ç®—åŸŸååˆ°æœŸå¤©æ•°
*   ğŸ’¾ æ”¯æŒå¯¼å‡ºé…ç½®åˆ° Github Gist æˆ– WebDAV

